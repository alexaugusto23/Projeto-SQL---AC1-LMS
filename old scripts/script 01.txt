CREATE TABLE USUARIO(
ID_USUARIO INT IDENTITY PRIMARY KEY NOT NULL,
Login VARCHAR(30) NOT NULL,
Senha CHAR (8) NOT NULL,
DtExpiracao DATE,
);


-- CONSTRAINT TABLE USUARIO

ALTER TABLE USUARIO ADD 
	CONSTRAINT UQ_USUARIO_LOGIN UNIQUE(LOGIN),
	CONSTRAINT DF__USUARIO_DTEXPIRACAO DEFAULT ('1900.01.01') FOR DtExpiracao,




DROP TABLE COORDENADOR

CREATE TABLE COORDENADOR(
ID_COORDENADOR INT IDENTITY PRIMARY KEY NOT NULL,
Id_usuario INT NOT NULL FOREING KEY REFERENCES USUARIO (ID_USUARIO),
Nome VARCHAR(30) NOT NULL,
Email VARCHAR(50),
Celular CHAR(9),
);


-- CONSTRAINT TABLE COORDENADOR

ALTER TABLE COORDENADOR ADD 
	CONSTRAINT UQ_COORDENADOR_EMAIL UNIQUE(Email),
	CONSTRAINT UQ_COORDENADOR_CELULAR UNIQUE(Celular),
	



CREATE TABLE ALUNO(
ID INT IDENTITY PRIMARY KEY NOT NULL,
Id_usuario INT NOT NULL FOREING KEY REFERENCES USUARIO (ID_USUARIO),
Nome VARCHAR(30) NOT NULL,
Email VARCHAR(50),
Celular CHAR(9),
RA CHAR(9),
Foto VARCHAR(50),
);


-- CONSTRAINT TABLE ALUNO

ALTER TABLE ALUNO ADD 
	CONSTRAINT UQ_ALUNO_EMAIL UNIQUE(Email),
	CONSTRAINT UQ_ALUNO_CELULAR UNIQUE(Celular),
	




SELECT * FROM PROFESSOR
CREATE TABLE PROFESSOR(
ID INT IDENTITY PRIMARY KEY NOT NULL,
Id_usuario INT NOT NULL FOREING KEY REFERENCES USUARIO (ID_USUARIO),
Email VARCHAR(50),
Celular CHAR(9),
Apelido VARCHAR(15) NOT NULL,
);


-- CONSTRAINT TABLE PROFESSOR

ALTER TABLE PROFESSOR ADD 
	CONSTRAINT UQ_PROFESSOR_EMAIL UNIQUE(Email),
	CONSTRAINT UQ_PROFESSOR_CELULAR UNIQUE(Celular),




DROP TABLE DISCIPLINA
SELECT * FROM DISCIPLINA

CREATE TABLE DISCIPLINA(
ID INT IDENTITY PRIMARY KEY NOT NULL,
Nome VARCHAR(30) NOT NULL,
Data DATETIME,
Status CHAR(9),
PlanoDeEnsino VARCHAR(50),
CargaHoraria INT (2),
Competencias VARCHAR(30),
Habilidades VARCHAR(30),
Ementa VARCHAR(100),
ConteudoProgramatico VARCHAR(100),
BibliografiaBasica VARCHAR(50),
BibliografiaComplementar VARCHAR(50),
PercentualPratico INT(3),
PercentualTeorico INT(3),
IdCoordenador INT IDENTITY NOT NULL FOREING KEY REFERENCES COORDENADOR (ID_COORDENADOR),
 
);


-- CONSTRAINT TABLE DICIPLINA

ALTER TABLE DISCIPLINA ADD 
	CONSTRAINT UQ_DISCIPLINA_NOME UNIQUE(Nome),
	DEFAULT DF__USUARIO_DTEXPIRACAO('1900.01.01') FOR USUARIO;





SELECT * FROM DISCIPLINAOFERTADA
CREATE TABLE DISCIPLINAOFERTADA(
ID INT IDENTITY PRIMARY KEY NOT NULL,
IdCoordenador INT NOT NULL FOREING KEY REFERENCES COORDENADOR (ID_COORDENADOR),
DtInicioMatricula DATETIME,
DtFimMatricula DATETIME,
IdDisciplina INT NOT NULL FOREING KEY REFERENCES DISCIPLINA (ID),
IdCurso INT NOT NULL FOREING KEY REFERENCES CURSO (ID),
Ano INT,
Semestre INT,
Turma CHAR(2),
IdProfessor INT NOT NULL FOREING KEY REFERENCES PROFESSOR (ID),
Metodologia VARCHAR(50),
Recursos VARCHAR(30),
CriterioAvaliacao VARCHAR(30),
PlanoDeAulas VARCHAR(50),
);



-- CONSTRAINT TABLE DISCIPLINAOFERTADA

ALTER TABLE DISCIPLINAOFERTADA ADD 
	DEFAULT DF__USUARIO_DTEXPIRACAO('1900.01.01') FOR USUARIO;





SELECT * FROM CURSO
CREATE TABLE CURSO(
ID INT IDENTITY PRIMARY KEY NOT NULL,
Nome VARCHAR(30) NOT NULL,
);



-- CONSTRAINT TABLE CURSO

ALTER TABLE CURSO ADD 
	CONSTRAINT UQ_CURSO_NOME UNIQUE(Nome),
